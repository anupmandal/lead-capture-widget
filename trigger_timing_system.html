<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Advanced Trigger Timing Configuration</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            line-height: 1.6;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }
        
        h1 {
            text-align: center;
            color: #2c3e50;
            margin-bottom: 40px;
            font-size: 2.5em;
        }
        
        h2 {
            color: #2c3e50;
            border-bottom: 3px solid #3498db;
            padding-bottom: 10px;
            margin-top: 40px;
        }
        
        h3 {
            color: #34495e;
            margin-top: 30px;
        }
        
        .scenario-section {
            margin: 30px 0;
            background: #f8f9fa;
            padding: 25px;
            border-radius: 15px;
            border-left: 5px solid #3498db;
        }
        
        .timing-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .timing-table th {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 15px;
            text-align: left;
            font-weight: 600;
        }
        
        .timing-table td {
            padding: 15px;
            border-bottom: 1px solid #eee;
            vertical-align: top;
        }
        
        .timing-table tr:hover {
            background: #f8f9fa;
        }
        
        .json-code {
            background: #2c3e50;
            color: #ecf0f1;
            padding: 15px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            font-size: 0.85em;
            margin: 15px 0;
            overflow-x: auto;
        }
        
        .timeline {
            background: white;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            border: 2px solid #ecf0f1;
        }
        
        .timeline h4 {
            margin: 0 0 15px 0;
            color: #2c3e50;
        }
        
        .timeline-step {
            display: flex;
            align-items: center;
            margin: 10px 0;
            padding: 10px;
            background: #f8f9fa;
            border-radius: 6px;
        }
        
        .step-number {
            background: #3498db;
            color: white;
            width: 25px;
            height: 25px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: bold;
            margin-right: 15px;
            flex-shrink: 0;
        }
        
        .step-time {
            background: #27ae60;
            color: white;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 11px;
            font-weight: bold;
            margin-right: 10px;
        }
        
        .use-case {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
        }
        
        .use-case h4 {
            margin: 0 0 15px 0;
            color: white;
        }
        
        .behavior-type {
            display: inline-block;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 0.8em;
            font-weight: bold;
            margin: 2px;
        }
        
        .pure-delay {
            background: #e74c3c;
            color: white;
        }
        
        .interaction-first {
            background: #f39c12;
            color: white;
        }
        
        .combined-trigger {
            background: #9b59b6;
            color: white;
        }
        
        .advanced-trigger {
            background: #27ae60;
            color: white;
        }
        
        .warning-box {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
            border-left: 5px solid #f39c12;
        }
        
        .best-practice {
            background: #d4edda;
            border: 1px solid #c3e6cb;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
            border-left: 5px solid #28a745;
        }
        
        .comparison-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }
        
        .comparison-card {
            background: white;
            border-radius: 10px;
            padding: 20px;
            border: 2px solid #ecf0f1;
            transition: all 0.3s ease;
        }
        
        .comparison-card:hover {
            border-color: #3498db;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(52, 152, 219, 0.3);
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>‚è±Ô∏è Advanced Trigger Timing Configuration</h1>
        
        <div class="best-practice">
            <strong>üéØ The Problem:</strong> Current configuration is ambiguous about how <code>triggerDelay</code> and <code>userInteractionRequired</code> work together. We need clearer, more flexible timing control.
        </div>

        <h2>üìä All Trigger Timing Scenarios</h2>
        
        <table class="timing-table">
            <thead>
                <tr>
                    <th>Trigger Mode</th>
                    <th>Configuration</th>
                    <th>Behavior</th>
                    <th>Use Case</th>
                    <th>User Experience</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><span class="behavior-type pure-delay">Pure Delay</span></td>
                    <td><div class="json-code">"triggerMode": "delay",<br>"triggerDelay": 5000</div></td>
                    <td>Show after 5 seconds, regardless of user activity</td>
                    <td>Announcements, urgent messages</td>
                    <td>Appears automatically, more intrusive</td>
                </tr>
                <tr>
                    <td><span class="behavior-type interaction-first">Interaction First</span></td>
                    <td><div class="json-code">"triggerMode": "interaction",<br>"interactionTypes": ["scroll", "click"]</div></td>
                    <td>Show immediately when user scrolls or clicks</td>
                    <td>Engagement-based, respectful approach</td>
                    <td>Only appears after showing interest</td>
                </tr>
                <tr>
                    <td><span class="behavior-type interaction-first">Delay After Interaction</span></td>
                    <td><div class="json-code">"triggerMode": "interactionThenDelay",<br>"triggerDelay": 3000</div></td>
                    <td>Wait for interaction, then start 3-second timer</td>
                    <td>Polite but persistent</td>
                    <td>User engages first, then sees popup</td>
                </tr>
                <tr>
                    <td><span class="behavior-type combined-trigger">First Condition Met</span></td>
                    <td><div class="json-code">"triggerMode": "firstCondition",<br>"triggerDelay": 10000,<br>"maxWaitForInteraction": 15000</div></td>
                    <td>Show after 10 seconds OR when user interacts (whichever first)</td>
                    <td>Balanced approach</td>
                    <td>Appears when user is ready or time is up</td>
                </tr>
                <tr>
                    <td><span class="behavior-type advanced-trigger">Both Conditions Required</span></td>
                    <td><div class="json-code">"triggerMode": "bothConditions",<br>"triggerDelay": 5000,<br>"requireInteraction": true</div></td>
                    <td>Show only after 5 seconds AND user interaction</td>
                    <td>Highly qualified leads</td>
                    <td>User must spend time and show interest</td>
                </tr>
                <tr>
                    <td><span class="behavior-type advanced-trigger">Progressive Engagement</span></td>
                    <td><div class="json-code">"triggerMode": "progressive",<br>"engagementThreshold": 75</div></td>
                    <td>Show after user engagement score reaches threshold</td>
                    <td>Smart targeting based on behavior</td>
                    <td>Appears when user is most engaged</td>
                </tr>
            </tbody>
        </table>

        <h2>üîß Enhanced Configuration System</h2>
        
        <div class="scenario-section">
            <h3>üìã New Trigger Configuration Structure</h3>
            <div class="json-code">
{
  "display": {
    "trigger": {
      "mode": "interactionThenDelay",     // Main trigger strategy
      "delay": 5000,                     // Time delay (when applicable)
      "interaction": {
        "required": true,                 // Whether interaction is required
        "types": ["scroll", "click", "mousemove"],  // What counts as interaction
        "threshold": {
          "scroll": "25%",               // Must scroll 25% down page
          "timeOnPage": 10000,           // Must be on page 10 seconds
          "clicks": 1                    // Must click somewhere first
        }
      },
      "conditions": {
        "operator": "OR",                // "OR", "AND", "SEQUENCE"
        "maxWaitTime": 30000            // Maximum time to wait overall
      }
    }
  }
}
            </div>
        </div>

        <h2>üéØ Trigger Mode Examples</h2>
        
        <div class="comparison-grid">
            <div class="comparison-card">
                <h4>1. Pure Delay Mode</h4>
                <span class="behavior-type pure-delay">Automatic</span>
                <div class="json-code">
{
  "display": {
    "trigger": {
      "mode": "delay",
      "delay": 8000
    }
  }
}
                </div>
                <div class="timeline">
                    <h4>Timeline:</h4>
                    <div class="timeline-step">
                        <div class="step-number">1</div>
                        <div class="step-time">0s</div>
                        <div>User lands on page</div>
                    </div>
                    <div class="timeline-step">
                        <div class="step-number">2</div>
                        <div class="step-time">8s</div>
                        <div>Widget appears automatically</div>
                    </div>
                </div>
                <p><strong>Best for:</strong> Urgent announcements, time-sensitive offers</p>
            </div>
            
            <div class="comparison-card">
                <h4>2. Interaction First Mode</h4>
                <span class="behavior-type interaction-first">Engagement-Based</span>
                <div class="json-code">
{
  "display": {
    "trigger": {
      "mode": "interaction",
      "interaction": {
        "types": ["scroll", "click"],
        "threshold": {
          "scroll": "20%"
        }
      }
    }
  }
}
                </div>
                <div class="timeline">
                    <h4>Timeline:</h4>
                    <div class="timeline-step">
                        <div class="step-number">1</div>
                        <div class="step-time">0s</div>
                        <div>User lands on page</div>
                    </div>
                    <div class="timeline-step">
                        <div class="step-number">2</div>
                        <div class="step-time">?s</div>
                        <div>User scrolls 20% or clicks</div>
                    </div>
                    <div class="timeline-step">
                        <div class="step-number">3</div>
                        <div class="step-time">+0s</div>
                        <div>Widget appears immediately</div>
                    </div>
                </div>
                <p><strong>Best for:</strong> Blog content, respectful engagement</p>
            </div>
            
            <div class="comparison-card">
                <h4>3. Interaction Then Delay</h4>
                <span class="behavior-type interaction-first">Sequential</span>
                <div class="json-code">
{
  "display": {
    "trigger": {
      "mode": "interactionThenDelay",
      "delay": 4000,
      "interaction": {
        "types": ["scroll", "click"]
      }
    }
  }
}
                </div>
                <div class="timeline">
                    <h4>Timeline:</h4>
                    <div class="timeline-step">
                        <div class="step-number">1</div>
                        <div class="step-time">0s</div>
                        <div>User lands on page</div>
                    </div>
                    <div class="timeline-step">
                        <div class="step-number">2</div>
                        <div class="step-time">?s</div>
                        <div>User interacts (scroll/click)</div>
                    </div>
                    <div class="timeline-step">
                        <div class="step-number">3</div>
                        <div class="step-time">+4s</div>
                        <div>Widget appears after 4-second delay</div>
                    </div>
                </div>
                <p><strong>Best for:</strong> Professional sites, B2B content</p>
            </div>
            
            <div class="comparison-card">
                <h4>4. First Condition Met</h4>
                <span class="behavior-type combined-trigger">Flexible</span>
                <div class="json-code">
{
  "display": {
    "trigger": {
      "mode": "firstCondition",
      "delay": 12000,
      "interaction": {
        "types": ["scroll", "click"]
      },
      "conditions": {
        "operator": "OR"
      }
    }
  }
}
                </div>
                <div class="timeline">
                    <h4>Timeline (Scenario A):</h4>
                    <div class="timeline-step">
                        <div class="step-number">1</div>
                        <div class="step-time">0s</div>
                        <div>User lands on page</div>
                    </div>
                    <div class="timeline-step">
                        <div class="step-number">2</div>
                        <div class="step-time">7s</div>
                        <div>User scrolls (first condition met)</div>
                    </div>
                    <div class="timeline-step">
                        <div class="step-number">3</div>
                        <div class="step-time">+0s</div>
                        <div>Widget appears immediately</div>
                    </div>
                </div>
                <p><strong>Best for:</strong> E-commerce, balanced approach</p>
            </div>
            
            <div class="comparison-card">
                <h4>5. Both Conditions Required</h4>
                <span class="behavior-type advanced-trigger">Strict</span>
                <div class="json-code">
{
  "display": {
    "trigger": {
      "mode": "bothConditions",
      "delay": 8000,
      "interaction": {
        "required": true,
        "types": ["scroll", "click"],
        "threshold": {
          "scroll": "30%"
        }
      },
      "conditions": {
        "operator": "AND"
      }
    }
  }
}
                </div>
                <div class="timeline">
                    <h4>Timeline:</h4>
                    <div class="timeline-step">
                        <div class="step-number">1</div>
                        <div class="step-time">0s</div>
                        <div>User lands on page</div>
                    </div>
                    <div class="timeline-step">
                        <div class="step-number">2</div>
                        <div class="step-time">8s</div>
                        <div>8 seconds elapsed ‚úì</div>
                    </div>
                    <div class="timeline-step">
                        <div class="step-number">3</div>
                        <div class="step-time">10s</div>
                        <div>User scrolls 30% ‚úì (both met)</div>
                    </div>
                    <div class="timeline-step">
                        <div class="step-number">4</div>
                        <div class="step-time">+0s</div>
                        <div>Widget appears</div>
                    </div>
                </div>
                <p><strong>Best for:</strong> High-value offers, qualified leads</p>
            </div>
            
            <div class="comparison-card">
                <h4>6. Progressive Engagement</h4>
                <span class="behavior-type advanced-trigger">Smart</span>
                <div class="json-code">
{
  "display": {
    "trigger": {
      "mode": "progressive",
      "engagementScore": {
        "threshold": 75,
        "factors": {
          "timeOnPage": 20,      // 20 points max
          "scrollDepth": 30,     // 30 points max  
          "pageViews": 25,       // 25 points max
          "interactions": 25     // 25 points max
        }
      }
    }
  }
}
                </div>
                <div class="timeline">
                    <h4>Engagement Scoring:</h4>
                    <div class="timeline-step">
                        <div class="step-number">1</div>
                        <div class="step-time">0s</div>
                        <div>Score: 0 (page load)</div>
                    </div>
                    <div class="timeline-step">
                        <div class="step-number">2</div>
                        <div class="step-time">15s</div>
                        <div>Score: 35 (time + scroll)</div>
                    </div>
                    <div class="timeline-step">
                        <div class="step-number">3</div>
                        <div class="step-time">25s</div>
                        <div>Score: 75 (threshold reached!)</div>
                    </div>
                    <div class="timeline-step">
                        <div class="step-number">4</div>
                        <div class="step-time">+0s</div>
                        <div>Widget appears</div>
                    </div>
                </div>
                <p><strong>Best for:</strong> Premium content, sophisticated targeting</p>
            </div>
        </div>

        <h2>üéõÔ∏è Use Case Recommendations</h2>
        
        <div class="use-case">
            <h4>üõçÔ∏è E-commerce Product Pages</h4>
            <div class="json-code">
{
  "display": {
    "trigger": {
      "mode": "firstCondition",
      "delay": 8000,                    // Show after 8 seconds
      "interaction": {
        "types": ["scroll", "click"],   // OR when user interacts
        "threshold": {
          "scroll": "25%"               // Scrolled past product info
        }
      }
    }
  }
}
            </div>
            <p><strong>Why:</strong> Balances urgency with user engagement. Shoppers either browse actively or get reminded about deals.</p>
        </div>

        <div class="use-case">
            <h4>üìö Blog Content Sites</h4>
            <div class="json-code">
{
  "display": {
    "trigger": {
      "mode": "progressive",
      "engagementScore": {
        "threshold": 60,
        "factors": {
          "timeOnPage": 30,             // Reading time matters
          "scrollDepth": 40,            // How much they read
          "returnVisitor": 30           // Bonus for repeat readers
        }
      }
    }
  }
}
            </div>
            <p><strong>Why:</strong> Respects readers, only shows to engaged users who are actually reading the content.</p>
        </div>

        <div class="use-case">
            <h4>üíº B2B Professional Services</h4>
            <div class="json-code">
{
  "display": {
    "trigger": {
      "mode": "bothConditions",
      "delay": 15000,                   // Must spend 15 seconds
      "interaction": {
        "required": true,
        "types": ["scroll", "click"],
        "threshold": {
          "scroll": "40%",              // Must read substantial content
          "timeOnPage": 10000           // Must spend time reading
        }
      }
    }
  }
}
            </div>
            <p><strong>Why:</strong> Professional, respectful approach. Only targets truly interested prospects.</p>
        </div>

        <div class="use-case">
            <h4>‚ö° Urgent Announcements</h4>
            <div class="json-code">
{
  "display": {
    "trigger": {
      "mode": "delay",
      "delay": 3000                     // Quick, automatic display
    }
  }
}
            </div>
            <p><strong>Why:</strong> Important information needs immediate visibility regardless of user behavior.</p>
        </div>

        <div class="warning-box">
            <strong>‚ö†Ô∏è Migration Note:</strong> This new system would replace the current <code>triggerDelay</code> + <code>userInteractionRequired</code> approach with a more explicit and flexible configuration system.
        </div>

        <div class="best-practice">
            <strong>üéØ Recommendation:</strong> Use <code>"firstCondition"</code> mode for most use cases - it provides a good balance between user respect and conversion optimization. Users who engage see the widget immediately, while less engaged users see it after a reasonable delay.
        </div>
    </div>
</body>
</html>